// From: // https://github.com/sevenupcan/gridlover-mixin

rhythm(font-scale, margin-before = null, margin-after = null)
	if font-scale == 0 and margin-before == null and margin-after == null
		font-size: body-font-size
		line-height body-font-size * body-line-height
	else
		if font-scale == 0
			font-size: body-font-size
			line-height body-font-size * body-line-height
		else
			font-size new-font-size = round(body-font-size * (scale-factor ** font-scale))
			line-height ceil((new-font-size / (body-line-height * body-font-size))) * (body-line-height * body-font-size)
		margin-top body-font-size * (body-line-height * margin-before)
		margin-bottom body-font-size * (body-line-height * margin-after)		

/* [TODO] fix grid alignment when units are relative, that means snapping any em values to whole pixels */
/*.grid {
  background: -webkit-gradient(linear, 100% 0%, 100% 100%, from(rgba(0,0,0,.12)), to(transparent), color-stop(0.1, transparent));
  background: -moz-linear-gradient(center top , transparent, transparent 90%, rgba(0,0,0,.12)) repeat scroll 0 0 transparent;
  background: -o-linear-gradient(center top , transparent, transparent 90%, rgba(0,0,0,.12)) repeat scroll 0 0 transparent;
  background: linear-gradient(center top , transparent, transparent 90%, rgba(0,0,0,.12)) repeat scroll 0 0 transparent;
  background-repeat: repeat;
  background-position: top left;
}
*/
.measure {
  box-shadow: inset 1px 0px 0px hsla(200, 100%, 50%, .3), inset -1px 0px 0px hsla(200, 100%, 50%, .3);
  box-shadow: inset 1px 0px 0px hsla(200, 0%, 0%, .12), inset -1px 0px 0px hsla(200, 0%, 0%, .12);
}
body.grid {
  background: url(/images/grid-site.png);
  background-size: 100% 24px;
}

/* 
    below are samples of how to apply the blue above/below the lines...
    TODO: figure out the actual heights required for each element (h1, h2, h...)

 */
body.grid h1 {
  box-shadow:inset 0px 1px 0px hsla(200, 100%, 50%, 1),0px 1px 0px hsla(200, 100%, 50%, 1),0px -24px 0px hsla(200, 100%, 50%, .1),0px 48px 0px hsla(200, 100%, 50%, .1);
}

body.grid h2 {
  box-shadow:inset 0px 1px 0px hsla(200, 100%, 50%, 1),0px 1px 0px hsla(200, 100%, 50%, 1),0px -24px 0px hsla(200, 100%, 50%, .1),0px 48px 0px hsla(200, 100%, 50%, .1);
}

